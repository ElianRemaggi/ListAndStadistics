import{a as b,p as x,u as y,_ as w,b as h}from"./B0nT9gH3.js";import{r,j as k,c as _,o as p,a as t,k as M,l as V,b as B,m as S,v as C,n as D,F as N}from"#entry";const P=async i=>{const a=r(null);try{const o=await b.post(x.getPathMensuales(),{mesanio:i});a.value=o.data.data}catch(o){y().errorSistema("Error al obtener totales. "+o+".")}return a.value??[]},R={class:"max-w-md w-full rounded-2xl border border-gray-200 bg-gray-50 p-5 shadow-sm m-auto mt-15"},$={class:"flex gap-2"},E={class:"relative flex-1"},K=k({__name:"mensuales",setup(i){const a=r(""),o=r(!1),d=new Date,v=s=>s.toString().padStart(2,"0"),c=`${d.getFullYear()}-${v(d.getMonth()+1)}`,n=r(c),l=r(void 0),m=async s=>{if(new Date(n.value)>new Date){a.value="La fecha no puede ser mayor a la fecha actual";return}a.value="";try{o.value=!0,l.value=await P(s)}catch{o.value=!1}finally{o.value=!1}};return(s,e)=>{const g=h,f=w;return p(),_(N,null,[t("div",R,[e[4]||(e[4]=t("p",{class:"text-center mb-2 block text-xl font-medium text-gray-700"},"Pacientes Mensuales",-1)),e[5]||(e[5]=t("label",{for:"month",class:"mb-2 block text-sm font-medium text-gray-700"}," Seleccionar mes ",-1)),t("div",$,[t("div",E,[e[3]||(e[3]=t("svg",{class:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2z"})],-1)),S(t("input",{id:"month","onUpdate:modelValue":e[0]||(e[0]=u=>n.value=u),type:"month",class:"w-full rounded-xl border border-gray-300 bg-white pl-10 pr-3 py-2.5 text-gray-700 placeholder-gray-400 outline-none transition focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/40 hover:border-gray-400",max:c,onKeydown:e[1]||(e[1]=D(u=>m(n.value),["enter"]))},null,544),[[C,n.value]])]),t("button",{type:"button",onClick:e[2]||(e[2]=u=>m(n.value)),class:"rounded-xl bg-indigo-400 text-white px-4 py-2.5 font-medium hover:bg-indigo-600 transition"}," Buscar ")])]),l.value?(p(),M(g,{key:0,resultados:l.value},null,8,["resultados"])):V("",!0),B(f,{blockerRender:o.value},null,8,["blockerRender"])],64)}}});export{K as default};
